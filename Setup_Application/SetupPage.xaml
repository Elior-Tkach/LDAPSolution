<UserControl x:Class="Setup_Application.SetupPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    mc:Ignorable="d" 
    d:DesignHeight="600" d:DesignWidth="1000">
    <UserControl.Resources>
        <Style x:Key="HighlightableButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="LightGray"/>
            <Style.Triggers>
                <Trigger Property="Tag" Value="Highlighted">
                    <Setter Property="Background" Value="LightBlue"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>
    <Canvas>
        <Canvas.Background>
            <ImageBrush ImageSource="Accellix logo2.png" Stretch="UniformToFill"/>
        </Canvas.Background>
        <!-- All content from SetupPage.xaml except Window root -->
        <Button Content="Find User" Style="{StaticResource HighlightableButtonStyle}" Width="106" Canvas.Left="27" Canvas.Top="135" Click="FindUserBtn_Click" HorizontalAlignment="Left" VerticalAlignment="Top" Height="47" FontSize="20" Tag="Highlightable"/>
        <Button Content="Find Group" Style="{StaticResource HighlightableButtonStyle}" Width="114" Canvas.Left="172" Canvas.Top="135" Click="FindGroupBtn_Click" HorizontalAlignment="Left" VerticalAlignment="Top" Height="47" FontSize="20" Tag="Highlightable"/>
        <Button Content="Choose user from Group" Style="{StaticResource HighlightableButtonStyle}" Width="246" Canvas.Left="324" Canvas.Top="135" Click="ChooseUserFromGroupBtn_Click" HorizontalAlignment="Left" VerticalAlignment="Top" Height="47" FontSize="20" Tag="Highlightable"/>
        <Button Content="Choose group from the group list" Style="{StaticResource HighlightableButtonStyle}" Width="341" Canvas.Left="606" Canvas.Top="135" Click="ChooseGroupFromListBtn_Click" HorizontalAlignment="Left" VerticalAlignment="Center" Height="47" FontSize="20" Tag="Highlightable"/>
        <Button Content="Clear all users and groups" Style="{StaticResource HighlightableButtonStyle}" Width="241" Canvas.Left="706" Canvas.Top="71" Click="ClearAllBtn_Click" HorizontalAlignment="Center" VerticalAlignment="Top" Height="40" FontSize="18" Tag="Highlightable"/>
        <RadioButton x:Name="OperatorRadio" Content="Operator" GroupName="Role" Visibility="Collapsed" Canvas.Left="685" Canvas.Top="225" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="18" />
        <RadioButton x:Name="AdminRadio" Content="Administrator" GroupName="Role" Visibility="Collapsed" Canvas.Left="791" Canvas.Top="225" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="18" />
        <TextBox x:Name="SelectedTextBox" Width="292" IsReadOnly="True" Canvas.Left="337" Canvas.Top="264" Visibility="Collapsed" FontSize="16" HorizontalAlignment="Left" VerticalAlignment="Center" Height="28" BorderThickness="0" Background="Transparent" />
        <Button Content="Save" x:Name="SaveBtn" Width="121" Canvas.Left="734" Visibility="Collapsed" Canvas.Top="284" Click="SaveBtn_Click" HorizontalAlignment="Center" VerticalAlignment="Top" Height="32" FontSize="20" />
        <!-- Dynamic Controls -->
        <TextBlock x:Name="UserNamePromptTextBlock" Text="Enter user name:" Canvas.Left="188" Canvas.Top="224" Visibility="Collapsed" FontSize="18" Height="56" Width="329"/>
        <TextBox x:Name="UserNameInputTextBox" Width="292" Height="33" Canvas.Left="337" Canvas.Top="225" Visibility="Collapsed" HorizontalAlignment="Left" VerticalAlignment="Center"  KeyDown="UserNameInputTextBox_KeyDown" FontSize="17"/>
        <TextBlock x:Name="GroupNamePromptTextBlock" Text="Enter group name:" Canvas.Left="173" Canvas.Top="225" Visibility="Collapsed" FontSize="18" Height="56" Width="329" HorizontalAlignment="Left" VerticalAlignment="Center" />
        <TextBox x:Name="GroupNameInputTextBox" Width="291" Height="33" Canvas.Left="338" Canvas.Top="225" Visibility="Collapsed" HorizontalAlignment="Left" VerticalAlignment="Center"  KeyDown="GroupNameInputTextBox_KeyDown" FontSize="17" TextChanged="GroupNameInputTextBox_TextChanged"/>
        <ListBox x:Name="UserSelectListBox" Width="291" Height="183" Canvas.Left="338" Canvas.Top="263" Visibility="Collapsed" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="16"/>
        <Button Content="Show all users and groups with permission" Style="{StaticResource HighlightableButtonStyle}" Width="386" Canvas.Left="27" Canvas.Top="71" Click="ShowPermissionsBtn_Click" Height="40" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Top"/>
        <ListBox x:Name="PermissionsListBox" Width="600" Height="200" Canvas.Left="200" Canvas.Top="235" Visibility="Collapsed" FontSize="16"/>
        <Button x:Name="ClosePermissionsBtn" Content="X" Width="28" Height="28" Canvas.Left="760" Canvas.Top="235"
        Visibility="Collapsed" Click="ClosePermissionsBtn_Click" FontSize="16" Background="LightGray" Foreground="Red"/>
        <TreeView x:Name="GroupTreeView"
          Width="502"
          Height="260"
          Canvas.Left="196"
          Canvas.Top="219"
          Visibility="Collapsed"
          FontSize="16"
          HorizontalAlignment="Left"
          VerticalAlignment="Top"/>
    </Canvas>
</UserControl>